<!-- Overlay -->
<div class="register-overlay active">
  <div class="register-modal">
    <button class="btn-close" (click)="exitLoginForm()"></button>

    <!-- Left side -->
    <div class="register-left">
      <img src="/images/background.png" alt="Banner đăng ký" class="register-banner" />
      <div class="register-left-content">
        <h3>
          <img src="/icons/Icon.svg" alt="Biểu tượng GroceryMart"
            style="width: 28px; height: 28px; margin-bottom: 5px" />
          GroceryMart
        </h3>
        <p>Sản phẩm tạp hóa cao cấp, chất lượng &amp; đáng tin cậy.</p>
      </div>
    </div>

    <!-- Right side -->
    <div class="register-right">
      <h4 style="text-align: center; margin-bottom: 5px">Đăng ký</h4>

      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" style="margin-bottom: 10px">
        <!-- Email -->
        <div class="form-group position-relative">
          <div class="input">
            <input type="email" formControlName="email" placeholder="Nhập email của bạn"
              class="form-control input-with-icon" />
            <i class="pi pi-envelope input-icon"></i>
          </div>
          <small *ngIf="registerForm.get('email')?.errors?.['required'] && registerForm.get('email')?.touched">
            *Không được bỏ trống.
          </small>
          @if (registerForm.get('email')?.errors?.['email'] && registerForm.get('email')?.dirty) {
          <small> *Email không đúng định dạng. </small>}
        </div>

        <!-- Username -->
        <div class="form-group position-relative">
          <div class="input">
            <input type="text" formControlName="username" placeholder="Nhập tên người dùng"
              class="form-control input-with-icon" />
            <i class="pi pi-user input-icon"></i>
          </div>
          @if(registerForm.get('username')?.errors?.['required'] &&
          registerForm.get('username')?.touched) {
          <small> *Không được để trống. </small>
          } @if(registerForm.get('username')?.errors?.['minlength'] &&
          registerForm.get('username')?.touched) {
          <small> *Tên người dùng tối thiểu 3 ký tự. </small>
          }
        </div>

        <!-- Password -->
        <div class="form-group position-relative">
          <div class="input">
            <input [type]="showPassword ? 'text' : 'password'" formControlName="password"
              placeholder="Nhập mật khẩu của bạn" class="form-control input-with-icon" />
            <i [ngClass]="showPassword ? 'pi pi-eye-slash' : 'pi pi-eye'" class="input-icon clickable"
              (click)="togglePassword()"></i>
          </div>
          @if(registerForm.get('password')?.errors?.['required'] &&
          registerForm.get('password')?.touched) {
          <small> *Không được để trống. </small>
          } @if(registerForm.get('password')?.errors?.['minlength'] &&
          registerForm.get('password')?.touched) {
          <small> *Mật khẩu phải có tối thiểu 6 ký tự. </small>
          }
        </div>

        <div class="form-group position-relative">
          <div class="input">
            <input [type]="showPassword ? 'text' : 'password'" formControlName="confirmPassword"
              placeholder="Xác nhận mật khẩu của bạn" class="form-control input-with-icon" />
            <i [ngClass]="showPassword ? 'pi pi-eye-slash' : 'pi pi-eye'" class="input-icon clickable"
              (click)="togglePassword()"></i>
          </div>
          @if(registerForm.get('confirmPassword')?.errors?.['required'] &&
          registerForm.get('confirmPassword')?.touched) {
          <small> *Không được để trống. </small>
          } @if(registerForm.get('confirmPassword')?.errors?.['passwordMismatch'] &&
          registerForm.get('confirmPassword')?.touched) {
          <small> *Mật khẩu không đúng. </small>
          }
        </div>

        <!-- Bottom -->
        <div class="form-bottom">
          <label class="remember"> <input type="checkbox" /> Ghi nhớ đăng nhập </label>
          <!-- <a href="#" class="text-link">Forgot password?</a> -->
        </div>

        <!-- Buttons -->
        <button type="submit" class="btn-register" [disabled]="isSubmitting || registerForm.invalid">
          Đăng ký
        </button>
      </form>
      <p class="text-muted">
        Bạn đã có tài khoản?
        <a routerLink="/login" class="text-link">Đăng nhập ngay</a>
      </p>
    </div>
  </div>
</div>